# Music Player — мод для Minecraft 1.21.1 (Fabric)

Музыкальный плеер с меню в стиле Minecraft. Открывается по клавише **M**.

## Возможности

- Открытие меню по клавише **M**
- Список файлов из папки `music_player` (в корне игры)
- Поддержка форматов: **WAV**, **MP3**
- Кнопки: **Играть**, **Пауза**, **Стоп**
- Регулировка громкости слайдером
- Звук идёт через Java Sound API отдельно от игровых звуков — конфликтов нет

## Структура файлов проекта

```
minecraft mod/
├── build.gradle
├── gradle.properties
├── settings.gradle
├── README.md
└── src/main/
    ├── java/com/musicplayer/
    │   ├── MusicPlayerMod.java      # Точка входа мода (общая)
    │   ├── MusicPlayerClient.java   # Клиент: регистрация клавиши M, открытие экрана
    │   ├── MusicPlayerScreen.java   # GUI: список треков, кнопки, громкость
    │   └── AudioPlayer.java         # Воспроизведение WAV/MP3 в отдельном потоке
    └── resources/
        ├── fabric.mod.json
        └── assets/musicplayer/lang/
            ├── en_us.json
            └── ru_ru.json
```

## Куда положить файлы при разработке

- **Java-классы** — в `src/main/java/com/musicplayer/` (папки создайте по путям пакета).
- **fabric.mod.json** — в `src/main/resources/`.
- **Языковые файлы** — в `src/main/resources/assets/musicplayer/lang/`.

## Сборка (один файл для mods) — можно без Gradle вручную

Мод собирается в **один JAR**. Варианты:

- **Без Gradle в командной строке:** откройте папку в **Cursor** или **IntelliJ IDEA** → загрузите проект (Gradle sync) → **Build → Build Project**. JAR будет в `build/libs/musicplayer-1.0.0.jar`.
- **Через GitHub:** залейте проект на GitHub → вкладка **Actions** → после сборки скачайте JAR из **Artifacts**. Gradle на компьютере не нужен.
- **Через Gradle:** в папке мода выполните `gradle build` или запустите `BUILD.bat`.

Подробно: **СБОРКА.txt** в корне проекта.

## Установка для игры

1. Установите [Fabric Loader](https://fabricmc.net/use/) для Minecraft 1.21.1.
2. Установите [Fabric API](https://modrinth.com/mod/fabric-api) для 1.21.1.
3. Скопируйте `musicplayer-1.0.0.jar` в папку `mods` вашей сборки/профиля.
4. Запустите игру. В настройках управления можно изменить клавишу открытия плеера (категория «Music Player»).

## Использование

1. Запустите Minecraft с установленным модом.
2. Папка **music_player** будет создана в **корневой папке игры** (рядом с папками `mods`, `saves` и т.д.), если её ещё нет.
3. Положите в неё файлы **.wav** или **.mp3**.
4. В игре нажмите **M** — откроется меню плеера.
5. Выберите файл в списке (клик), нажмите **Играть**. **Пауза** и **Стоп** останавливают воспроизведение. Громкость меняется слайдером.

## Запуск из IDE (разработка)

- В IntelliJ IDEA / Cursor: импортируйте проект как Gradle, затем запустите задачу **Run Client** (Fabric Loom).
- Рабочая директория при `runClient` обычно — корень проекта или `run/`; папка `music_player` создаётся там. В установленной игре — в корне игры.

## Технические детали

- **Загрузчик:** Fabric (1.21.1).
- **Аудио:** Java Sound API (`javax.sound.sampled`) в отдельном потоке; для MP3 используется библиотека JLayer. Звук не идёт через OpenAL игры, поэтому не конфликтует с игровыми звуками.
- Клавиша по умолчанию: **M** (можно изменить в настройках управления).
